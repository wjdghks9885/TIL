# 가상환경(Virtual environment)

### 가상환경을 쓰는 이유

> 기본적으로 라이브러리를 설치하면 컴퓨터에 깔리면서 전역적으로 적용이 된다. 그래서 어떤 작업을 하든지 깔려있는 라이브러리의 버전과 파이썬 버전으로 사용이 된다. 그래서 여러가지 프로젝트를 할 때 각각 다른 버전의 파이썬이나 라이브러리를 사용해야 하는 경우에는 작업하기 쉽지 않다. 이런 경우를 위해 가상환경을 쓰는 것이다.



### 가상환경이란?

> 가상환경은 환경 내에 있는 파이썬을 사용하는 것이다?!

- 자신이 원하는 Python 환경 구축을 위해 필요한 모듈만을 모아놓은 것.
- 각각의 가상환경은 독립적이어서 서로 다른 가상환경에 설치된 모듈들의 영향을 받지 않는다.



## 가상환경 구성 코드

#### 1. 가상환경 생성

- 먼저 밑에 코드를 실행하여 가상환경 폴더를 생성한다.

  ```bash
  $ python -m venv venv
  ```

  

  - 생성 후 가상환경에 들어가는 코드

    ```bash
    $ source venv/Scripts/activate
    ```

  - 가상환경에서 나가는 코드

    ```bash
    $ deactivate
    ```

- 하지만 이런식으로 하면 가상환경에 들어갈 때 마다 지정해줘야한다..
  
  - 그래서 바로 접속할 수 있도록 설정하는 방법이 있다!

#### 2. 가상환경 편하게 들락날락 거리는 코드

1. 아래 코드를 실행하여 Vi 에디터로 들어간다.

   ```bash
   $ vi ~/.bashrc
   ```

2. 들어가면 ~~당황하지 말고~~ `i` 를 누른다.

3. 누른 후 `alias activate="source venv/Scripts/activate"` 이 코드를 그대로 친다.

4. 코드를 쳤으면 `Esc` 3~4번 연타 후 `:wq` 를 치고 `Enter` 를 눌러 나온다.

5. 이제 bash를 껐다 킨 후, 경로를 venv가 있는 폴더(venv폴더의 상위폴더)로 바꾼다.

6. 그 다음 아래 코드를 치면 설정 끝!

   ```bash
   $ source ~/.bashrc
   ```

- 이제 `$ activate` 를 치면 가상환경에 들어가지고, `$ deactivate` 를 치면 나와진다. 이 두 단어만 있으면 언제든지 가상환경에 들락날락할 수 있게 된 것이다!



#### 3. gitignore 설정

> Github를 돌아다니며 다른 사람들이 올린 것들을 보다보면 .gitignore라는 파일을 종종 봐왔을 것이다. 이 놈이 뭐하는 놈인지 알아보자.

- gitignore란 가상환경에 있는 라이브러리들을 Github에 push할 때 올라가지 않게 해주는 일을 한다.
- 가상환경에선 보통 라이브러리를 많이 다운받아 사용하기 때문에 라이브러리들이 담긴 폴더의 용량이 너무 커서 이 폴더가 Github 원격 저장소에 올라가게 되면 문제가 생긴다. ~~나도 무슨 문제가 생기는지는 정확하게는 모른다;;~~



1. 먼저 [gitignore 주소]("gitignore.io")에 들어가서 검색창 같은 곳에 **프로그래밍 언어**, **개발 환경(IDE)**, **운영체제** 순으로 입력해준다. (예를들면 *Python*치고 엔터, *venv*치고 엔터, *Flask*치고 엔터)

2. 다 입력했으면 생성을 누른다.

3. 누르면 코드가 쫙 나온다.

4. 그 코드를 전체복사한 후 bash로 돌아와 아래 코드를 작성한다.

   ```bash
   $ vi .gitignore
   ```

   - 위 코드를 치면 다시 Vi에디터로 이동한다.
   - 그 후 `Shifh + Insert` 를 눌러 복사한 코드를 붙여넣는다.
   - 다 복사되면 `Esc` 3~4번 연타 후 `:wq` 를 치고 `Enter` 를 눌러 나온다.
   - 이러면 gitignore 설정 끝!



#### 4. 사용한 라이브러리 버전 공유

> 내가 사용한 라이브러리는 Github에 올라가지 않으므로 협업시에 팀원에게 버전을 알려줘야 한다. 알려주는 방법을 내가 알려주겠다. ~~라임 대박~~

1. 먼저 가상환경에 들어간 후 아래 코드를 친다.

   ```bash
   $ pip freeze > requirements.txt
   ```

2. 위 코드를 실행하면 `requirements.txt` 라는 파일이 생긴다.

3. 이 파일을 팀원에게 공유한다.

4. 팀원이 아래 코드를 치면 팀원의 가상환경에 내가 사용한 버전들과 똑같은 버전이 다운로드된다.

   ```bash
   $ pip install -r requirements.txt
   ```

- ~~쉽다 쉬워!~~



## 그 외 오늘 공부한 것들

- Flask는 웹을 개발하는 프레임워크이다.

- 코드 파일 이름은 app.py로 해야한다.

- 라이브러리가 없다면 bash에 `pip install Flask` 을 작성해서 설치하면 된다.

  - 간단하게 사용해본 예시

  ```python
  from flask import Flask
  app = Flask(__name__)
  
  @app.route('/')
  def hello_world():
      return "Hello, World!"
  ```

  - app.py에 이 코드를 친 후 저장하고, bash에서 `flask run` 을 친 후, 나오는 url주소에 들어가면 **Hello, World!**가 써있는 페이지에 들어가진다.
  - @는 데코레이터라는 녀석이다..

  ~~데코레이터에 대해 궁금하다면 구글링 ㄱㄱ~~

- 이 외에도 오늘 Flask에 대해 여러 실습을 해보았다.

  - 내용은 [Flask](https://github.com/wjdghks9885/TIL/tree/master/flask)에 있다!



- **CSS selector**에 대해서도 오랜만에 다시 공부했다.
  - 내용은 [HTML_AND_CSS](https://github.com/wjdghks9885/TIL/tree/master/HTML_AND_CSS)에 가면 볼 수 있다!